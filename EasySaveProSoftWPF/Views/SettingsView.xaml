<UserControl x:Class="EasySaveProSoft.WPF.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:viewModels="clr-namespace:EasySaveProSoft.WPF.ViewModels"
             Background="White">

    <UserControl.DataContext>
        <viewModels:SettingsViewModel />
    </UserControl.DataContext>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!-- 🔧 Cryptage (existant) -->
            <TextBlock Text="Extensions à chiffrer" FontSize="16" Margin="5"/>
            <ListBox x:Name="ExtensionsListBox" Height="150" Margin="5"/>
            <StackPanel Orientation="Horizontal" Margin="5">
                <TextBlock Text="Extension:" FontWeight="Bold" Margin="5"/>
                <TextBox x:Name="ExtensionTextBox" Margin="5" Width="67" />
                <Button Content="Ajouter" Width="100" Margin="5" Click="AddExtension_Click"/>
                <Button Content="Supprimer" Width="100" Margin="5" Click="RemoveExtension_Click"/>
            </StackPanel>
            <Button Content="Enregistrer les extensions" Width="184" Click="SaveExtensions_Click"/>

            <!-- 🌐 Langue -->
            <TextBlock Text="Langue :" FontSize="16" Margin="15 5 5 5"/>
            <ComboBox x:Name="LanguageComboBox" SelectionChanged="LanguageComboBox_SelectionChanged" Margin="5">
                <ComboBoxItem Content="English" Tag="en" />
                <ComboBoxItem Content="Français" Tag="fr" />
            </ComboBox>

            <!-- 📁 Format de logs -->
            <TextBlock Text="Format de logs :" FontSize="16" Margin="15 10 5 5"/>
            <StackPanel Orientation="Horizontal" Margin="5">
                <ComboBox x:Name="LogFormatComboBox" Width="100" Margin="5">
                    <ComboBoxItem Content="JSON" Tag="json"/>
                    <ComboBoxItem Content="XML" Tag="xml"/>
                </ComboBox>
                <Button Content="Appliquer" Width="120" Margin="5" Click="ApplyLogFormat_Click"/>
            </StackPanel>

            <!-- 🧱 Logiciels bloquants -->
            <TextBlock Text="Logiciels à bloquer :" FontSize="16" Margin="15 5 5 5"/>
            <ListBox x:Name="BlockedSoftwareListBox" Height="150" Margin="5"/>
            <StackPanel Orientation="Horizontal" Margin="5">
                <TextBox x:Name="BlockedSoftwareTextBox" Width="150" Margin="5"/>
                <Button Content="📂" Width="39" Margin="5" Click="BrowseBlockedSoftware_Click"/>
                <Button Content="Ajouter" Width="80" Margin="5" Click="AddBlockedSoftware_Click"/>
                <Button Content="Supprimer" Width="91" Margin="5" Click="RemoveBlockedSoftware_Click"/>
            </StackPanel>
            <Button Content="Enregistrer logiciels bloquants" Width="200" Margin="5" Click="SaveBlockedSoftware_Click"/>

            <!-- 🔥 Extensions prioritaires -->
            <!-- 🔥 Extensions prioritaires -->
            <TextBlock Text="Extensions prioritaires :" FontSize="16" Margin="15 15 5 5" FontWeight="Bold"/>
            <ListBox ItemsSource="{Binding PriorityOrder}" 
         SelectedItem="{Binding SelectedExtension}" 
         Height="150" Margin="5"/>

            <StackPanel Orientation="Horizontal" Margin="5">
                <TextBox Text="{Binding NewExtension, UpdateSourceTrigger=PropertyChanged}" Width="120" Margin="5"/>
                <Button Content="Ajouter" Command="{Binding AddExtensionCommand}" Width="100" Margin="5"/>
                <Button Content="Supprimer" Command="{Binding RemoveExtensionCommand}" 
            CommandParameter="{Binding SelectedExtension}" Width="100" Margin="5"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Margin="5">
                <Button Content="🔼 Monter" Command="{Binding MoveUpCommand}" Width="100" Margin="5"/>
                <Button Content="🔽 Descendre" Command="{Binding MoveDownCommand}" Width="100" Margin="5"/>
            </StackPanel>


        </StackPanel>
    </ScrollViewer>
</UserControl>
